<app-spinner *ngIf="loading$ | async"></app-spinner>

<section fxLayoutAlign="center">
  <mat-card>
   <form
     fxLayout="column"
     fxLayoutAlign="center center"
     #f="ngForm"
     (ngSubmit)="registrarUsuario(f)"
     fxLayoutGap="10px"
   >

     <mat-form-field>
       <mat-label>Ingrese Nombre</mat-label>
       <input
         type="text"
         ngModel
         name="nombre"
         required
         placeholder="Ingrese nombre"
         matInput
       />
       <mat-error>Debe ingresar un nombre</mat-error>
     </mat-form-field>

     <mat-form-field>
       <mat-label>Ingrese Apellidos</mat-label>
       <input
         type="text"
         ngModel
         name="apellidos"
         required
         placeholder="Ingrese apellidos"
         matInput
       />
       <mat-error>Debe ingresar los apellidos</mat-error>
     </mat-form-field>

     <mat-form-field>
       <mat-label>Ingrese Username</mat-label>
       <input
         type="text"
         ngModel
         name="username"
         required
         placeholder="vaxidrez"
         matInput
       />
       <mat-error>Debe ingresar un username</mat-error>
     </mat-form-field>

      <mat-form-field>
       <mat-label>Ingrese Telefono</mat-label>
       <input
         type="text"
         ngModel
         name="telefono"
         required
         placeholder="980369856"
         matInput
       />
       <mat-error>Debe ingresar su telefono</mat-error>
     </mat-form-field>


     <mat-form-field>
      <mat-label>Seleccione Tipo de Documento de Identidad</mat-label>
      <mat-select ngModel name="tipoDoc" required>
        <mat-option value="DNI">DNI</mat-option>
        <mat-option value="Extranjero">Extranjero</mat-option>
        <mat-option value="Pasaporte">Pasaporte</mat-option>
      </mat-select>
      <mat-error>Debe seleccionar su Tipo de Documento de Identidad</mat-error>
    </mat-form-field>


    <mat-form-field>
      <mat-label>Ingrese su Numero Documento de Identidad</mat-label>
      <input
        type="text"
        ngModel
        name="dni"
        required
        placeholder="73583958"
        matInput
      />
      <mat-error>Debe ingresar Numero Documento de Identidad</mat-error>
    </mat-form-field>

     <mat-form-field>
       <mat-label>Ingrese E-Mail</mat-label>
       <input
         type="email"
         matInput
         placeholder="dagner_chuman@gmail.com"
         ngModel
         name="email"
         email
         required
         #emailInput="ngModel"
       />
       <mat-error *ngIf="emailInput.hasError('required')"
         >El email no puede estar en blanco</mat-error
       >
       <mat-error *ngIf="!emailInput.hasError('required')"
         >El email es invalido</mat-error
       >
     </mat-form-field>

     <mat-form-field hintLabel="El password debe tener 7 caracteres">
       <mat-label>Ingrese Password</mat-label>
       <input
         type="password"
         matInput
         placeholder="Ingresa Password"
         ngModel
         name="password"
         required
         minlength="7"
       />
       <mat-error>El password debe tener mas de 7 caracteres</mat-error>
     </mat-form-field>



     <mat-form-field hintLabel="El password debe tener 7 caracteres">
       <mat-label>Confirme Password</mat-label>
       <input
         type="password"
         matInput
         placeholder="Confirme Password"
         ngModel
         name="passwordConfirme"
         required
         minlength="7"
       />
       <mat-error>El password debe tener mas de 7 caracteres</mat-error>
     </mat-form-field>

     <mat-form-field>
      <mat-label>Seleccione un negocio</mat-label>
      <mat-select [(ngModel)]="selectedNegocioId" name="negocioId" required>
        <mat-option *ngFor="let negocio of negocios" [value]="negocio.id">
          {{ negocio.nombre }}
        </mat-option>
      </mat-select>
      <mat-error>Debe seleccionar un negocio</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Ingrese su Departamento</mat-label>
      <input
        type="text"
        ngModel
        name="departamento"
        required
        placeholder="Lambayeque"
        matInput
      />
      <mat-error>Debe ingresar su Departamento</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Ingrese su Distrito</mat-label>
      <input
        type="text"
        ngModel
        name="provincia"
        required
        placeholder="Ferreñafe"
        matInput
      />
      <mat-error>Debe ingresar su Distrito</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Ingrese su Provincia</mat-label>
      <input
        type="text"
        ngModel
        name="distrito"
        required
        placeholder="Ferreñafe"
        matInput
      />
      <mat-error>Debe ingresar su Provincia</mat-error>
    </mat-form-field>


     <button type="submit" mat-raised-button color="primary" [disabled]="f.invalid">Guardar</button>
   </form>
    </mat-card>
 </section>
